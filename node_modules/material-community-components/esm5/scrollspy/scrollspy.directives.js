import * as tslib_1 from "tslib";
import { Input, ContentChildren, Directive, ElementRef, QueryList, Renderer2, } from '@angular/core';
import { coerceBooleanProperty } from '@angular/cdk/coercion';
import { MccScrollspyService } from './scrollspy.service';
var MccScrollspyItemDirective = /** @class */ (function () {
    function MccScrollspyItemDirective(elementRef, renderer) {
        this.elementRef = elementRef;
        this.renderer = renderer;
    }
    Object.defineProperty(MccScrollspyItemDirective.prototype, "id", {
        get: function () {
            return this._id;
        },
        /**
         * Hold the element id, if element doesn't have id
         * the method will create one
         */
        set: function (id) {
            if (!id) {
                id = this._createId();
                this.renderer.setProperty(this.elementRef.nativeElement, 'id', id);
            }
            this._id = id;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MccScrollspyItemDirective.prototype, "top", {
        /**
         * Element distance of the top
         */
        get: function () {
            return this.elementRef.nativeElement.offsetTop;
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(MccScrollspyItemDirective.prototype, "focus", {
        get: function () {
            return this._focused;
        },
        /**
         * Element is focused
         */
        set: function (focused) {
            this._focused = coerceBooleanProperty(focused);
        },
        enumerable: true,
        configurable: true
    });
    MccScrollspyItemDirective.prototype.ngAfterContentInit = function () {
        if (!this.label) {
            this.label = this.elementRef.nativeElement.textContent;
        }
        this.id = this.elementRef.nativeElement.id;
    };
    /**
     * Create an ID for the element
     */
    MccScrollspyItemDirective.prototype._createId = function () {
        var tmpID = this.label.toLowerCase().replace(/[ ]+/gi, '_');
        return "mcc_scrollspy_" + tmpID;
    };
    tslib_1.__decorate([
        Input('focus'),
        tslib_1.__metadata("design:type", Boolean),
        tslib_1.__metadata("design:paramtypes", [Boolean])
    ], MccScrollspyItemDirective.prototype, "focus", null);
    tslib_1.__decorate([
        Input(),
        tslib_1.__metadata("design:type", String)
    ], MccScrollspyItemDirective.prototype, "label", void 0);
    MccScrollspyItemDirective = tslib_1.__decorate([
        Directive({
            selector: '[mccScrollspyItem], [mcc-scrollspy-item]',
            exportAs: 'mccScrollspyItem',
        }),
        tslib_1.__metadata("design:paramtypes", [ElementRef, Renderer2])
    ], MccScrollspyItemDirective);
    return MccScrollspyItemDirective;
}());
export { MccScrollspyItemDirective };
var MccScrollspyGroupDirective = /** @class */ (function () {
    function MccScrollspyGroupDirective(mccScrollspyService) {
        this.mccScrollspyService = mccScrollspyService;
    }
    Object.defineProperty(MccScrollspyGroupDirective.prototype, "name", {
        /**
         * Name of the scrollspy group
         */
        set: function (name) {
            this._name = name;
        },
        enumerable: true,
        configurable: true
    });
    MccScrollspyGroupDirective.prototype.ngAfterContentInit = function () {
        // add the group items
        var items = this.items.map(function (item) { return item; });
        this.mccScrollspyService.create(this._name, items);
    };
    tslib_1.__decorate([
        ContentChildren(MccScrollspyItemDirective),
        tslib_1.__metadata("design:type", QueryList)
    ], MccScrollspyGroupDirective.prototype, "items", void 0);
    tslib_1.__decorate([
        Input('mccScrollspyGroup'),
        tslib_1.__metadata("design:type", String),
        tslib_1.__metadata("design:paramtypes", [String])
    ], MccScrollspyGroupDirective.prototype, "name", null);
    MccScrollspyGroupDirective = tslib_1.__decorate([
        Directive({
            selector: '[mccScrollspyGroup], [mcc-scrollspy-group]',
            exportAs: 'mccScrollspyGroup',
        }),
        tslib_1.__metadata("design:paramtypes", [MccScrollspyService])
    ], MccScrollspyGroupDirective);
    return MccScrollspyGroupDirective;
}());
export { MccScrollspyGroupDirective };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2Nyb2xsc3B5LmRpcmVjdGl2ZXMuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9tYXRlcmlhbC1jb21tdW5pdHktY29tcG9uZW50cy8iLCJzb3VyY2VzIjpbInNjcm9sbHNweS9zY3JvbGxzcHkuZGlyZWN0aXZlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUVMLEtBQUssRUFDTCxlQUFlLEVBQ2YsU0FBUyxFQUNULFVBQVUsRUFDVixTQUFTLEVBQ1QsU0FBUyxHQUNWLE1BQU0sZUFBZSxDQUFDO0FBQ3ZCLE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzlELE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLHFCQUFxQixDQUFDO0FBTTFEO0lBMkNFLG1DQUFtQixVQUFzQixFQUFVLFFBQW1CO1FBQW5ELGVBQVUsR0FBVixVQUFVLENBQVk7UUFBVSxhQUFRLEdBQVIsUUFBUSxDQUFXO0lBQUcsQ0FBQztJQXRDMUUsc0JBQUkseUNBQUU7YUFRTjtZQUNFLE9BQU8sSUFBSSxDQUFDLEdBQUcsQ0FBQztRQUNsQixDQUFDO1FBZEQ7OztXQUdHO2FBQ0gsVUFBTyxFQUFVO1lBQ2YsSUFBSSxDQUFDLEVBQUUsRUFBRTtnQkFDUCxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO2dCQUN0QixJQUFJLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsRUFBRSxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7YUFDcEU7WUFFRCxJQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUNoQixDQUFDOzs7T0FBQTtJQVNELHNCQUFJLDBDQUFHO1FBSFA7O1dBRUc7YUFDSDtZQUNFLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsU0FBUyxDQUFDO1FBQ2pELENBQUM7OztPQUFBO0lBTUQsc0JBQUksNENBQUs7YUFHVDtZQUNFLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztRQUN2QixDQUFDO1FBVEQ7O1dBRUc7YUFFSCxVQUFVLE9BQWdCO1lBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQUcscUJBQXFCLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDakQsQ0FBQzs7O09BQUE7SUFjRCxzREFBa0IsR0FBbEI7UUFDRSxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRTtZQUNmLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxhQUFhLENBQUMsV0FBVyxDQUFDO1NBQ3hEO1FBQ0QsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUM7SUFDN0MsQ0FBQztJQUVEOztPQUVHO0lBQ0ssNkNBQVMsR0FBakI7UUFDRSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDNUQsT0FBTyxtQkFBaUIsS0FBTyxDQUFDO0lBQ2xDLENBQUM7SUE3QkQ7UUFEQyxLQUFLLENBQUMsT0FBTyxDQUFDOzs7MERBR2Q7SUFVUTtRQUFSLEtBQUssRUFBRTs7NERBQWU7SUF6Q1oseUJBQXlCO1FBSnJDLFNBQVMsQ0FBQztZQUNULFFBQVEsRUFBRSwwQ0FBMEM7WUFDcEQsUUFBUSxFQUFFLGtCQUFrQjtTQUM3QixDQUFDO2lEQTRDK0IsVUFBVSxFQUFvQixTQUFTO09BM0MzRCx5QkFBeUIsQ0EyRHJDO0lBQUQsZ0NBQUM7Q0FBQSxBQTNERCxJQTJEQztTQTNEWSx5QkFBeUI7QUFpRXRDO0lBZUUsb0NBQW9CLG1CQUF3QztRQUF4Qyx3QkFBbUIsR0FBbkIsbUJBQW1CLENBQXFCO0lBQUcsQ0FBQztJQUxoRSxzQkFBSSw0Q0FBSTtRQUpSOztXQUVHO2FBRUgsVUFBUyxJQUFZO1lBQ25CLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLENBQUM7OztPQUFBO0lBS0QsdURBQWtCLEdBQWxCO1FBQ0Usc0JBQXNCO1FBQ3RCLElBQU0sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFVBQUEsSUFBSSxJQUFJLE9BQUEsSUFBSSxFQUFKLENBQUksQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxLQUFLLENBQUMsQ0FBQztJQUNyRCxDQUFDO0lBakIyQztRQUEzQyxlQUFlLENBQUMseUJBQXlCLENBQUM7MENBQVEsU0FBUzs2REFBNEI7SUFNeEY7UUFEQyxLQUFLLENBQUMsbUJBQW1CLENBQUM7OzswREFHMUI7SUFaVSwwQkFBMEI7UUFKdEMsU0FBUyxDQUFDO1lBQ1QsUUFBUSxFQUFFLDRDQUE0QztZQUN0RCxRQUFRLEVBQUUsbUJBQW1CO1NBQzlCLENBQUM7aURBZ0J5QyxtQkFBbUI7T0FmakQsMEJBQTBCLENBc0J0QztJQUFELGlDQUFDO0NBQUEsQUF0QkQsSUFzQkM7U0F0QlksMEJBQTBCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQWZ0ZXJDb250ZW50SW5pdCxcbiAgSW5wdXQsXG4gIENvbnRlbnRDaGlsZHJlbixcbiAgRGlyZWN0aXZlLFxuICBFbGVtZW50UmVmLFxuICBRdWVyeUxpc3QsXG4gIFJlbmRlcmVyMixcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBjb2VyY2VCb29sZWFuUHJvcGVydHkgfSBmcm9tICdAYW5ndWxhci9jZGsvY29lcmNpb24nO1xuaW1wb3J0IHsgTWNjU2Nyb2xsc3B5U2VydmljZSB9IGZyb20gJy4vc2Nyb2xsc3B5LnNlcnZpY2UnO1xuXG5ARGlyZWN0aXZlKHtcbiAgc2VsZWN0b3I6ICdbbWNjU2Nyb2xsc3B5SXRlbV0sIFttY2Mtc2Nyb2xsc3B5LWl0ZW1dJyxcbiAgZXhwb3J0QXM6ICdtY2NTY3JvbGxzcHlJdGVtJyxcbn0pXG5leHBvcnQgY2xhc3MgTWNjU2Nyb2xsc3B5SXRlbURpcmVjdGl2ZSBpbXBsZW1lbnRzIEFmdGVyQ29udGVudEluaXQge1xuICAvKipcbiAgICogSG9sZCB0aGUgZWxlbWVudCBpZCwgaWYgZWxlbWVudCBkb2Vzbid0IGhhdmUgaWRcbiAgICogdGhlIG1ldGhvZCB3aWxsIGNyZWF0ZSBvbmVcbiAgICovXG4gIHNldCBpZChpZDogc3RyaW5nKSB7XG4gICAgaWYgKCFpZCkge1xuICAgICAgaWQgPSB0aGlzLl9jcmVhdGVJZCgpO1xuICAgICAgdGhpcy5yZW5kZXJlci5zZXRQcm9wZXJ0eSh0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCwgJ2lkJywgaWQpO1xuICAgIH1cblxuICAgIHRoaXMuX2lkID0gaWQ7XG4gIH1cbiAgZ2V0IGlkKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuX2lkO1xuICB9XG4gIHByaXZhdGUgX2lkOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIEVsZW1lbnQgZGlzdGFuY2Ugb2YgdGhlIHRvcFxuICAgKi9cbiAgZ2V0IHRvcCgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5vZmZzZXRUb3A7XG4gIH1cblxuICAvKipcbiAgICogRWxlbWVudCBpcyBmb2N1c2VkXG4gICAqL1xuICBASW5wdXQoJ2ZvY3VzJylcbiAgc2V0IGZvY3VzKGZvY3VzZWQ6IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9mb2N1c2VkID0gY29lcmNlQm9vbGVhblByb3BlcnR5KGZvY3VzZWQpO1xuICB9XG4gIGdldCBmb2N1cygpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5fZm9jdXNlZDtcbiAgfVxuICBwcml2YXRlIF9mb2N1c2VkOiBib29sZWFuO1xuXG4gIC8qKlxuICAgKiBMYWJlbCB0aGF0IHdpbGwgYXBwZWFyIG9uIHRoZSBsaXN0IG9mIGl0ZW1zLlxuICAgKiBUaGUgZGVmYXVsdCBpcyB0aGUgdGV4dCBpbnNpZGUgdGhlIGVsZW1lbnRcbiAgICovXG4gIEBJbnB1dCgpIGxhYmVsOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IocHVibGljIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMikge31cblxuICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XG4gICAgaWYgKCF0aGlzLmxhYmVsKSB7XG4gICAgICB0aGlzLmxhYmVsID0gdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gICAgfVxuICAgIHRoaXMuaWQgPSB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5pZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGUgYW4gSUQgZm9yIHRoZSBlbGVtZW50XG4gICAqL1xuICBwcml2YXRlIF9jcmVhdGVJZCgpOiBzdHJpbmcge1xuICAgIGxldCB0bXBJRCA9IHRoaXMubGFiZWwudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9bIF0rL2dpLCAnXycpO1xuICAgIHJldHVybiBgbWNjX3Njcm9sbHNweV8ke3RtcElEfWA7XG4gIH1cbn1cblxuQERpcmVjdGl2ZSh7XG4gIHNlbGVjdG9yOiAnW21jY1Njcm9sbHNweUdyb3VwXSwgW21jYy1zY3JvbGxzcHktZ3JvdXBdJyxcbiAgZXhwb3J0QXM6ICdtY2NTY3JvbGxzcHlHcm91cCcsXG59KVxuZXhwb3J0IGNsYXNzIE1jY1Njcm9sbHNweUdyb3VwRGlyZWN0aXZlIGltcGxlbWVudHMgQWZ0ZXJDb250ZW50SW5pdCB7XG4gIC8qKlxuICAgKiBMaXN0IG9mIHNjcm9sbHNweSBpdGVtc1xuICAgKi9cbiAgQENvbnRlbnRDaGlsZHJlbihNY2NTY3JvbGxzcHlJdGVtRGlyZWN0aXZlKSBpdGVtczogUXVlcnlMaXN0PE1jY1Njcm9sbHNweUl0ZW1EaXJlY3RpdmU+O1xuXG4gIC8qKlxuICAgKiBOYW1lIG9mIHRoZSBzY3JvbGxzcHkgZ3JvdXBcbiAgICovXG4gIEBJbnB1dCgnbWNjU2Nyb2xsc3B5R3JvdXAnKVxuICBzZXQgbmFtZShuYW1lOiBzdHJpbmcpIHtcbiAgICB0aGlzLl9uYW1lID0gbmFtZTtcbiAgfVxuICBwcml2YXRlIF9uYW1lOiBzdHJpbmc7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBtY2NTY3JvbGxzcHlTZXJ2aWNlOiBNY2NTY3JvbGxzcHlTZXJ2aWNlKSB7fVxuXG4gIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAgICAvLyBhZGQgdGhlIGdyb3VwIGl0ZW1zXG4gICAgY29uc3QgaXRlbXMgPSB0aGlzLml0ZW1zLm1hcChpdGVtID0+IGl0ZW0pO1xuICAgIHRoaXMubWNjU2Nyb2xsc3B5U2VydmljZS5jcmVhdGUodGhpcy5fbmFtZSwgaXRlbXMpO1xuICB9XG59XG4iXX0=